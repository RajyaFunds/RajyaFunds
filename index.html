<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RajyaFunds - Empowering Your Financial Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary-blue: #1e3a8a;
            --secondary-blue: #3b82f6;
            --cta-green: #10b981;
            --light-bg: #f9fafb;
            --card-bg: #ffffff;
            --text-primary: #111827;
            --accent-blue: #38bdf8;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
        }
        
        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .calculator-step {
            display: none;
        }
        
        .calculator-step.active {
            display: block;
        }
        
        .premium-card {
            background: linear-gradient(135deg, #f4f8ff 0%, #e6f0ff 100%);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .custom-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .coming-soon-card {
            opacity: 0.6;
            position: relative;
        }
        
        .coming-soon-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(16, 185, 129, 0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-900 to-blue-800 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-bold text-green-400">RajyaFunds</h1>
                    <p class="text-blue-200 text-sm">Empowering Your Financial Journey</p>
                </div>
                <div class="hidden md:block">
                    <p class="text-xl font-semibold text-blue-100">Your Path to Financial Clarity</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex space-x-8">
                <a href="#home" class="nav-link py-4 px-2 text-blue-900 border-b-2 border-green-400 font-semibold">Home</a>
                <a href="#calculators" class="nav-link py-4 px-2 text-gray-600 hover:text-blue-900 transition-all duration-200">Calculators</a>
                <a href="#articles" class="nav-link py-4 px-2 text-gray-600 hover:text-blue-900 transition-all duration-200">Articles</a>
                <a href="#contact" class="nav-link py-4 px-2 text-gray-600 hover:text-blue-900 transition-all duration-200">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="py-20 bg-gradient-to-br from-blue-50 to-green-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-bold text-gray-800 mb-6">Smart Financial Decisions Made Simple</h2>
                <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">Empowering Indian youth and professionals with intelligent tools and insights for financial planning. Make informed "buy now or invest and buy later" decisions with confidence.</p>
                <button onclick="scrollToCalculators()" class="bg-green-500 hover:bg-green-600 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-all duration-200 transform hover:scale-105 shadow-lg">
                    Start Your Financial Journey
                </button>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8">
                <div class="premium-card p-8 rounded-xl text-center">
                    <div class="text-blue-600 text-4xl mb-4">üìä</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">Smart Finance</h3>
                    <p class="text-gray-600">Data-backed decisions for your financial goals</p>
                </div>
                <div class="premium-card p-8 rounded-xl text-center">
                    <div class="text-green-600 text-4xl mb-4">üéØ</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">Intuitive Tools</h3>
                    <p class="text-gray-600">Simple calculators for complex financial planning</p>
                </div>
                <div class="premium-card p-8 rounded-xl text-center">
                    <div class="text-blue-600 text-4xl mb-4">üîí</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">Secure Data</h3>
                    <p class="text-gray-600">Your information stays private and secure</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Calculators Section -->
    <section id="calculators" class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-16">Financial Calculators Hub</h2>
            
            <!-- Main Calculator -->
            <div class="bg-white rounded-xl shadow-xl p-8 mb-12 border border-gray-100">
                <div class="text-center mb-8">
                    <h3 class="text-3xl font-bold text-blue-900 mb-4">Smart Buy Planner: Loan vs SIP Decision Assistant</h3>
                    <p class="text-gray-600 text-lg">Get data-backed insights to decide whether to take a loan now or invest and buy later</p>
                </div>

                <!-- Global Currency Toggle -->
                <div class="bg-gray-50 p-6 rounded-lg mb-8">
                    <h4 class="font-semibold text-gray-800 mb-4">Global Settings</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Currency</label>
                            <select id="currencyToggle" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="INR">Indian Rupees (‚Çπ)</option>
                                <option value="USD">US Dollars ($)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Unit for Large Values</label>
                            <select id="unitToggle" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="lakhs">Lakhs</option>
                                <option value="millions">Millions</option>
                                <option value="crores">Crores</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Calculator Steps -->
                <div id="calculatorContainer">
                    <!-- Step 1: Choose Your Goal -->
                    <div id="step1" class="calculator-step active">
                        <h4 class="text-2xl font-bold text-gray-800 mb-6">Step 1: Choose Your Goal</h4>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-3">Primary Objective</label>
                                <div class="space-y-3">
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg hover:bg-blue-50 cursor-pointer">
                                        <input type="radio" name="goal" value="home" class="mr-3 text-blue-600">
                                        <span class="font-medium">I want to buy a home (compare loan vs SIP)</span>
                                    </label>
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg hover:bg-blue-50 cursor-pointer">
                                        <input type="radio" name="goal" value="loan" class="mr-3 text-blue-600">
                                        <span class="font-medium">I want to take another kind of loan (no SIP comparison)</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div id="homeSpecificQuestions" style="display: none;">
                                <label class="block text-sm font-medium text-gray-700 mb-3">When are you planning to buy?</label>
                                <div class="space-y-3">
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg hover:bg-blue-50 cursor-pointer">
                                        <input type="radio" name="buyTiming" value="now" class="mr-3 text-blue-600">
                                        <span class="font-medium">I want to buy now (loan focused)</span>
                                    </label>
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg hover:bg-blue-50 cursor-pointer">
                                        <input type="radio" name="buyTiming" value="later" class="mr-3 text-blue-600">
                                        <span class="font-medium">I want to accumulate money and buy later (SIP focused)</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Expected Annual ROI (%)</label>
                                <input type="number" id="expectedROI" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="e.g., 10">
                                <p class="text-sm text-gray-500 mt-1">This is the prevalent industry rate for your selected loan type/investment. You can adjust it based on your offer.</p>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-end">
                            <button onclick="nextStep()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Next</button>
                        </div>
                    </div>

                    <!-- Step 2: Money Snapshot -->
                    <div id="step2" class="calculator-step">
                        <h4 class="text-2xl font-bold text-gray-800 mb-6">Step 2: Your Money Snapshot</h4>
                        <div class="space-y-6">
                            <div id="homeDetails" style="display: none;">
                                <h5 class="text-lg font-semibold text-gray-800 mb-4">Home/Goal Details</h5>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Home Value</label>
                                        <input type="number" id="homeValue" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="60">
                                        <span class="currency-unit-display text-sm text-gray-500"></span>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Target Year to Buy</label>
                                        <input type="number" id="targetYear" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="5" min="1" max="30">
                                        <span class="text-sm text-gray-500">Years from now</span>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Home Price Inflation Rate (%/year)</label>
                                    <input type="number" id="inflationRate" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="6.5" step="0.1">
                                </div>
                            </div>

                            <div>
                                <h5 class="text-lg font-semibold text-gray-800 mb-4">Current Financials</h5>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Current Savings</label>
                                        <input type="number" id="currentSavings" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="15">
                                        <span class="currency-unit-display text-sm text-gray-500"></span>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Monthly Income</label>
                                        <input type="number" id="monthlyIncome" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="70000">
                                        <span class="currency-unit-display text-sm text-gray-500"></span>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Down Payment Preference</label>
                                <select id="downPaymentType" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mb-3">
                                    <option value="percentage">Percentage of savings</option>
                                    <option value="amount">Specific amount</option>
                                </select>
                                <input type="number" id="downPaymentValue" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="80">
                                <span id="downPaymentUnit" class="text-sm text-gray-500">% of current savings</span>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Investment Return Category</label>
                                <select id="investmentCategory" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    <option value="conservative">Conservative/Debt (~6-7%/yr)</option>
                                    <option value="balanced">Balanced/Hybrid (~9%/yr)</option>
                                    <option value="largecap">Large-cap (~10%/yr)</option>
                                    <option value="midcap">Mid-cap (~12%/yr)</option>
                                    <option value="smallcap">Small-cap (~14%/yr)</option>
                                </select>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button onclick="prevStep()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Back</button>
                            <button onclick="nextStep()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Next</button>
                        </div>
                    </div>

                    <!-- Step 3: Budget & Preferences -->
                    <div id="step3" class="calculator-step">
                        <h4 class="text-2xl font-bold text-gray-800 mb-6">Step 3: Monthly Budget & Preferences</h4>
                        <div class="space-y-6">
                            <div class="bg-blue-50 p-6 rounded-lg">
                                <h5 class="text-lg font-semibold text-gray-800 mb-4">Suggested Budget (50/30/20 Rule)</h5>
                                <div class="grid md:grid-cols-3 gap-4 mb-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Needs (%)</label>
                                        <input type="number" id="needsPercent" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" value="50">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Wants (%)</label>
                                        <input type="number" id="wantsPercent" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" value="30">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Savings (%)</label>
                                        <input type="number" id="savingsPercent" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" value="20">
                                    </div>
                                </div>
                                <div id="budgetBreakdown" class="text-sm text-gray-600"></div>
                                <div id="budgetWarning" class="text-red-600 text-sm mt-2" style="display: none;"></div>
                            </div>

                            <div id="loanPreferences" style="display: none;">
                                <h5 class="text-lg font-semibold text-gray-800 mb-4">Loan Preferences</h5>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Desired Monthly EMI</label>
                                        <input type="number" id="desiredEMI" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="25000">
                                        <span class="currency-unit-display text-sm text-gray-500"></span>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">OR Fixed Loan Tenure (Years)</label>
                                        <input type="number" id="fixedTenure" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="15">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button onclick="prevStep()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Back</button>
                            <button onclick="calculateResults()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Calculate Results</button>
                        </div>
                    </div>

                    <!-- Step 4: Results -->
                    <div id="step4" class="calculator-step">
                        <h4 class="text-2xl font-bold text-gray-800 mb-6">Step 4: Your Personalized Financial Strategy</h4>
                        <div id="resultsContainer"></div>
                        <div class="mt-8 flex justify-between">
                            <button onclick="prevStep()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Back</button>
                            <button onclick="generatePDF()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">üìÑ Generate PDF Summary</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other Calculators -->
            <div class="grid md:grid-cols-3 lg:grid-cols-4 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-blue-600 text-3xl mb-4">üìà</div>
                    <h4 class="font-bold text-gray-800 mb-2">SIP Calculator</h4>
                    <p class="text-gray-600 text-sm">Plan your systematic investments</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-green-600 text-3xl mb-4">üí≥</div>
                    <h4 class="font-bold text-gray-800 mb-2">Personal Loan</h4>
                    <p class="text-gray-600 text-sm">Calculate loan EMIs</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-blue-600 text-3xl mb-4">üöó</div>
                    <h4 class="font-bold text-gray-800 mb-2">Vehicle Loan</h4>
                    <p class="text-gray-600 text-sm">Auto loan planning</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-purple-600 text-3xl mb-4">üéì</div>
                    <h4 class="font-bold text-gray-800 mb-2">Education Loan</h4>
                    <p class="text-gray-600 text-sm">Education financing</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-red-600 text-3xl mb-4">üèñÔ∏è</div>
                    <h4 class="font-bold text-gray-800 mb-2">Retirement Planner</h4>
                    <p class="text-gray-600 text-sm">Plan your golden years</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-orange-600 text-3xl mb-4">üíº</div>
                    <h4 class="font-bold text-gray-800 mb-2">Business Loan</h4>
                    <p class="text-gray-600 text-sm">Business financing</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-teal-600 text-3xl mb-4">üí∞</div>
                    <h4 class="font-bold text-gray-800 mb-2">Net Worth</h4>
                    <p class="text-gray-600 text-sm">Track your wealth</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Articles Section -->
    <section id="articles" class="py-20 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">Financial Insights & Articles</h2>
            <div class="text-center">
                <div class="text-6xl mb-4">üìö</div>
                <h3 class="text-2xl font-bold text-gray-800 mb-4">Educational Content Coming Soon</h3>
                <p class="text-gray-600 max-w-2xl mx-auto">We're preparing comprehensive guides, tips, and insights to help you make better financial decisions. Stay tuned for expert advice on investments, loans, and financial planning.</p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-16">Get In Touch</h2>
            <div class="max-w-4xl mx-auto">
                <div class="grid md:grid-cols-2 gap-12">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Contact Information</h3>
                        <div class="space-y-4">
                            <div class="flex items-center">
                                <div class="text-blue-600 text-xl mr-4">üìß</div>
                                <span class="text-gray-600">info@rajyafunds.in</span>
                            </div>
                            <div class="flex items-center">
                                <div class="text-blue-600 text-xl mr-4">üåê</div>
                                <span class="text-gray-600">https://rajyafunds.in</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Quick Message</h3>
                        <form class="space-y-4">
                            <input type="text" placeholder="Your Name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                            <input type="email" placeholder="Your Email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                            <textarea placeholder="Your Message" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"></textarea>
                            <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-all duration-200">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <h3 class="text-2xl font-bold text-green-400 mb-2">RajyaFunds</h3>
                <p class="text-gray-400 mb-4">Empowering Your Financial Journey</p>
                <p class="text-gray-500 text-sm">&copy; 2025 RajyaFunds. All<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RajyaFunds - Empowering Your Financial Journey</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary-blue: #1e3a8a;
            --secondary-blue: #3b82f6;
            --cta-green: #10b981;
            --light-bg: #f9fafb;
            --card-bg: #ffffff;
            --text-primary: #111827;
            --accent-blue: #38bdf8;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
        }
        
        .glassmorphism {
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        
        .calculator-step {
            display: none;
        }
        
        .calculator-step.active {
            display: block;
        }
        
        .premium-card {
            background: linear-gradient(135deg, #f4f8ff 0%, #e6f0ff 100%);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .custom-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: white;
            margin: 15% auto;
            padding: 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }
        
        .coming-soon-card {
            opacity: 0.6;
            position: relative;
        }
        
        .coming-soon-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(16, 185, 129, 0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="bg-gradient-to-r from-blue-900 to-blue-800 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex justify-between items-center">
                <div>
                    <h1 class="text-3xl font-bold text-green-400">RajyaFunds</h1>
                    <p class="text-blue-200 text-sm">Empowering Your Financial Journey</p>
                </div>
                <div class="hidden md:block">
                    <p class="text-xl font-semibold text-blue-100">Your Path to Financial Clarity</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex space-x-8">
                <a href="#home" class="nav-link py-4 px-2 text-blue-900 border-b-2 border-green-400 font-semibold">Home</a>
                <a href="#calculators" class="nav-link py-4 px-2 text-gray-600 hover:text-blue-900 transition-all duration-200">Calculators</a>
                <a href="#articles" class="nav-link py-4 px-2 text-gray-600 hover:text-blue-900 transition-all duration-200">Articles</a>
                <a href="#contact" class="nav-link py-4 px-2 text-gray-600 hover:text-blue-900 transition-all duration-200">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="py-20 bg-gradient-to-br from-blue-50 to-green-50">
        <div class="container mx-auto px-4">
            <div class="text-center mb-16">
                <h2 class="text-5xl font-bold text-gray-800 mb-6">Smart Financial Decisions Made Simple</h2>
                <p class="text-xl text-gray-600 mb-8 max-w-3xl mx-auto">Empowering Indian youth and professionals with intelligent tools and insights for financial planning. Make informed "buy now or invest and buy later" decisions with confidence.</p>
                <button onclick="scrollToCalculators()" class="bg-green-500 hover:bg-green-600 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-all duration-200 transform hover:scale-105 shadow-lg">
                    Start Your Financial Journey
                </button>
            </div>
            
            <div class="grid md:grid-cols-3 gap-8">
                <div class="premium-card p-8 rounded-xl text-center">
                    <div class="text-blue-600 text-4xl mb-4">üìä</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">Smart Finance</h3>
                    <p class="text-gray-600">Data-backed decisions for your financial goals</p>
                </div>
                <div class="premium-card p-8 rounded-xl text-center">
                    <div class="text-green-600 text-4xl mb-4">üéØ</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">Intuitive Tools</h3>
                    <p class="text-gray-600">Simple calculators for complex financial planning</p>
                </div>
                <div class="premium-card p-8 rounded-xl text-center">
                    <div class="text-blue-600 text-4xl mb-4">üîí</div>
                    <h3 class="text-xl font-bold text-gray-800 mb-3">Secure Data</h3>
                    <p class="text-gray-600">Your information stays private and secure</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Calculators Section -->
    <section id="calculators" class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-16">Financial Calculators Hub</h2>
            
            <!-- Main Calculator -->
            <div class="bg-white rounded-xl shadow-xl p-8 mb-12 border border-gray-100">
                <div class="text-center mb-8">
                    <h3 class="text-3xl font-bold text-blue-900 mb-4">Smart Buy Planner: Loan vs SIP Decision Assistant</h3>
                    <p class="text-gray-600 text-lg">Get data-backed insights to decide whether to take a loan now or invest and buy later</p>
                </div>

                <!-- Global Currency Toggle -->
                <div class="bg-gray-50 p-6 rounded-lg mb-8">
                    <h4 class="font-semibold text-gray-800 mb-4">Global Settings</h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Currency</label>
                            <select id="currencyToggle" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="INR">Indian Rupees (‚Çπ)</option>
                                <option value="USD">US Dollars ($)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Unit for Large Values</label>
                            <select id="unitToggle" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <option value="lakhs">Lakhs</option>
                                <option value="millions">Millions</option>
                                <option value="crores">Crores</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Calculator Steps -->
                <div id="calculatorContainer">
                    <!-- Step 1: Choose Your Goal -->
                    <div id="step1" class="calculator-step active">
                        <h4 class="text-2xl font-bold text-gray-800 mb-6">Step 1: Choose Your Goal</h4>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-3">Primary Objective</label>
                                <div class="space-y-3">
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg hover:bg-blue-50 cursor-pointer">
                                        <input type="radio" name="goal" value="home" class="mr-3 text-blue-600">
                                        <span class="font-medium">I want to buy a home (compare loan vs SIP)</span>
                                    </label>
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg hover:bg-blue-50 cursor-pointer">
                                        <input type="radio" name="goal" value="loan" class="mr-3 text-blue-600">
                                        <span class="font-medium">I want to take another kind of loan (no SIP comparison)</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div id="homeSpecificQuestions" style="display: none;">
                                <label class="block text-sm font-medium text-gray-700 mb-3">When are you planning to buy?</label>
                                <div class="space-y-3">
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg hover:bg-blue-50 cursor-pointer">
                                        <input type="radio" name="buyTiming" value="now" class="mr-3 text-blue-600">
                                        <span class="font-medium">I want to buy now (loan focused)</span>
                                    </label>
                                    <label class="flex items-center p-4 border border-gray-300 rounded-lg hover:bg-blue-50 cursor-pointer">
                                        <input type="radio" name="buyTiming" value="later" class="mr-3 text-blue-600">
                                        <span class="font-medium">I want to accumulate money and buy later (SIP focused)</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Expected Annual ROI (%)</label>
                                <input type="number" id="expectedROI" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="e.g., 10">
                                <p class="text-sm text-gray-500 mt-1">This is the prevalent industry rate for your selected loan type/investment. You can adjust it based on your offer.</p>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-end">
                            <button onclick="nextStep()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Next</button>
                        </div>
                    </div>

                    <!-- Step 2: Money Snapshot -->
                    <div id="step2" class="calculator-step">
                        <h4 class="text-2xl font-bold text-gray-800 mb-6">Step 2: Your Money Snapshot</h4>
                        <div class="space-y-6">
                            <div id="homeDetails" style="display: none;">
                                <h5 class="text-lg font-semibold text-gray-800 mb-4">Home/Goal Details</h5>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Home Value</label>
                                        <input type="number" id="homeValue" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="60">
                                        <span class="currency-unit-display text-sm text-gray-500"></span>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Target Year to Buy</label>
                                        <input type="number" id="targetYear" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="5" min="1" max="30">
                                        <span class="text-sm text-gray-500">Years from now</span>
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Home Price Inflation Rate (%/year)</label>
                                    <input type="number" id="inflationRate" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="6.5" step="0.1">
                                </div>
                            </div>

                            <div>
                                <h5 class="text-lg font-semibold text-gray-800 mb-4">Current Financials</h5>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Current Savings</label>
                                        <input type="number" id="currentSavings" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="15">
                                        <span class="currency-unit-display text-sm text-gray-500"></span>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Monthly Income</label>
                                        <input type="number" id="monthlyIncome" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="70000">
                                        <span class="currency-unit-display text-sm text-gray-500"></span>
                                    </div>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Down Payment Preference</label>
                                <select id="downPaymentType" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 mb-3">
                                    <option value="percentage">Percentage of savings</option>
                                    <option value="amount">Specific amount</option>
                                </select>
                                <input type="number" id="downPaymentValue" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="80">
                                <span id="downPaymentUnit" class="text-sm text-gray-500">% of current savings</span>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Investment Return Category</label>
                                <select id="investmentCategory" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                    <option value="conservative">Conservative/Debt (~6-7%/yr)</option>
                                    <option value="balanced">Balanced/Hybrid (~9%/yr)</option>
                                    <option value="largecap">Large-cap (~10%/yr)</option>
                                    <option value="midcap">Mid-cap (~12%/yr)</option>
                                    <option value="smallcap">Small-cap (~14%/yr)</option>
                                </select>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button onclick="prevStep()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Back</button>
                            <button onclick="nextStep()" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Next</button>
                        </div>
                    </div>

                    <!-- Step 3: Budget & Preferences -->
                    <div id="step3" class="calculator-step">
                        <h4 class="text-2xl font-bold text-gray-800 mb-6">Step 3: Monthly Budget & Preferences</h4>
                        <div class="space-y-6">
                            <div class="bg-blue-50 p-6 rounded-lg">
                                <h5 class="text-lg font-semibold text-gray-800 mb-4">Suggested Budget (50/30/20 Rule)</h5>
                                <div class="grid md:grid-cols-3 gap-4 mb-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Needs (%)</label>
                                        <input type="number" id="needsPercent" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" value="50">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Wants (%)</label>
                                        <input type="number" id="wantsPercent" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" value="30">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Savings (%)</label>
                                        <input type="number" id="savingsPercent" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" value="20">
                                    </div>
                                </div>
                                <div id="budgetBreakdown" class="text-sm text-gray-600"></div>
                                <div id="budgetWarning" class="text-red-600 text-sm mt-2" style="display: none;"></div>
                            </div>

                            <div id="loanPreferences" style="display: none;">
                                <h5 class="text-lg font-semibold text-gray-800 mb-4">Loan Preferences</h5>
                                <div class="grid md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Desired Monthly EMI</label>
                                        <input type="number" id="desiredEMI" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="25000">
                                        <span class="currency-unit-display text-sm text-gray-500"></span>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">OR Fixed Loan Tenure (Years)</label>
                                        <input type="number" id="fixedTenure" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" placeholder="15">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-8 flex justify-between">
                            <button onclick="prevStep()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Back</button>
                            <button onclick="calculateResults()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Calculate Results</button>
                        </div>
                    </div>

                    <!-- Step 4: Results -->
                    <div id="step4" class="calculator-step">
                        <h4 class="text-2xl font-bold text-gray-800 mb-6">Step 4: Your Personalized Financial Strategy</h4>
                        <div id="resultsContainer"></div>
                        <div class="mt-8 flex justify-between">
                            <button onclick="prevStep()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">Back</button>
                            <button onclick="generatePDF()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-all duration-200">üìÑ Generate PDF Summary</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other Calculators -->
            <div class="grid md:grid-cols-3 lg:grid-cols-4 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-blue-600 text-3xl mb-4">üìà</div>
                    <h4 class="font-bold text-gray-800 mb-2">SIP Calculator</h4>
                    <p class="text-gray-600 text-sm">Plan your systematic investments</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-green-600 text-3xl mb-4">üí≥</div>
                    <h4 class="font-bold text-gray-800 mb-2">Personal Loan</h4>
                    <p class="text-gray-600 text-sm">Calculate loan EMIs</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-blue-600 text-3xl mb-4">üöó</div>
                    <h4 class="font-bold text-gray-800 mb-2">Vehicle Loan</h4>
                    <p class="text-gray-600 text-sm">Auto loan planning</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-purple-600 text-3xl mb-4">üéì</div>
                    <h4 class="font-bold text-gray-800 mb-2">Education Loan</h4>
                    <p class="text-gray-600 text-sm">Education financing</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-red-600 text-3xl mb-4">üèñÔ∏è</div>
                    <h4 class="font-bold text-gray-800 mb-2">Retirement Planner</h4>
                    <p class="text-gray-600 text-sm">Plan your golden years</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-orange-600 text-3xl mb-4">üíº</div>
                    <h4 class="font-bold text-gray-800 mb-2">Business Loan</h4>
                    <p class="text-gray-600 text-sm">Business financing</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 coming-soon-card">
                    <div class="text-teal-600 text-3xl mb-4">üí∞</div>
                    <h4 class="font-bold text-gray-800 mb-2">Net Worth</h4>
                    <p class="text-gray-600 text-sm">Track your wealth</p>
                    <div class="coming-soon-overlay">Coming Soon</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Articles Section -->
    <section id="articles" class="py-20 bg-gray-50">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-8">Financial Insights & Articles</h2>
            <div class="text-center">
                <div class="text-6xl mb-4">üìö</div>
                <h3 class="text-2xl font-bold text-gray-800 mb-4">Educational Content Coming Soon</h3>
                <p class="text-gray-600 max-w-2xl mx-auto">We're preparing comprehensive guides, tips, and insights to help you make better financial decisions. Stay tuned for expert advice on investments, loans, and financial planning.</p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="py-20 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-4xl font-bold text-center text-gray-800 mb-16">Get In Touch</h2>
            <div class="max-w-4xl mx-auto">
                <div class="grid md:grid-cols-2 gap-12">
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Contact Information</h3>
                        <div class="space-y-4">
                            <div class="flex items-center">
                                <div class="text-blue-600 text-xl mr-4">üìß</div>
                                <span class="text-gray-600">info@rajyafunds.in</span>
                            </div>
                            <div class="flex items-center">
                                <div class="text-blue-600 text-xl mr-4">üåê</div>
                                <span class="text-gray-600">https://rajyafunds.in</span>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-6">Quick Message</h3>
                        <form class="space-y-4">
                            <input type="text" placeholder="Your Name" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                            <input type="email" placeholder="Your Email" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                            <textarea placeholder="Your Message" rows="4" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"></textarea>
                            <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-medium transition-all duration-200">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <h3 class="text-2xl font-bold text-green-400 mb-2">RajyaFunds</h3>
                <p class="text-gray-400 mb-4">Empowering Your Financial Journey</p>
                <p class="text-gray-500 text-sm">&copy; 2025 RajyaFunds. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Custom Modal -->
    <div id="customModal" class="custom-modal">
        <div class="modal-content">
            <h3 id="modalTitle" class="text-xl font-bold text-gray-800 mb-4"></h3>
            <p id="modalMessage" class="text-gray-600 mb-6"></p>
            <div class="flex justify-end space-x-3">
                <button id="modalCancel" class="px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg transition-all duration-200">Cancel</button>
                <button id="modalConfirm" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-all duration-200">Confirm</button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentStep = 1;
        let calculatorData = {};
        let currentCurrency = 'INR';
        let currentUnit = 'lakhs';

        // Currency and unit conversion functions
        function convertToBaseUnit(value, unit) {
            if (!value) return 0;
            switch(unit) {
                case 'lakhs': return value * 100000;
                case 'millions': return value * 1000000;
                case 'crores': return value * 10000000;
                default: return value;
            }
        }

        function formatCurrency(value, currency = currentCurrency, unit = currentUnit) {
            if (!value) return '0';
            
            let convertedValue = value;
            if (currency === 'USD' && currentCurrency === 'INR') {
                convertedValue = value / 83; // Approximate conversion rate
            } else if (currency === 'INR' && currentCurrency === 'USD') {
                convertedValue = value * 83;
            }

            const formatter = new Intl.NumberFormat(currency === 'INR' ? 'en-IN' : 'en-US', {
                style: 'currency',
                currency: currency,
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            });

            return formatter.format(convertedValue);
        }

        function updateCurrencyDisplays() {
            const displays = document.querySelectorAll('.currency-unit-display');
            const currencySymbol = currentCurrency === 'INR' ? '‚Çπ' : ';
            const unitText = currentUnit.charAt(0).toUpperCase() + currentUnit.slice(1);
            
            displays.forEach(display => {
                display.textContent = `in ${currencySymbol} ${unitText}`;
            });
        }

        // Event listeners for global toggles
        document.getElementById('currencyToggle').addEventListener('change', function() {
            currentCurrency = this.value;
            updateCurrencyDisplays();
        });

        document.getElementById('unitToggle').addEventListener('change', function() {
            currentUnit = this.value;
            updateCurrencyDisplays();
        });

        // Navigation functions
        function scrollToCalculators() {
            document.getElementById('calculators').scrollIntoView({ behavior: 'smooth' });
        }

        function nextStep() {
            if (validateCurrentStep()) {
                saveFormData();
                currentStep++;
                showStep(currentStep);
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }

        function showStep(step) {
            document.querySelectorAll('.calculator-step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step${step}`).classList.add('active');
            
            // Update visibility based on selections
            updateStepVisibility();
        }

        function updateStepVisibility() {
            const goal = document.querySelector('input[name="goal"]:checked')?.value;
            const homeQuestions = document.getElementById('homeSpecificQuestions');
            const homeDetails = document.getElementById('homeDetails');
            const loanPreferences = document.getElementById('loanPreferences');

            if (goal === 'home') {
                homeQuestions.style.display = 'block';
                homeDetails.style.display = 'block';
                loanPreferences.style.display = 'none';
            } else if (goal === 'loan') {
                homeQuestions.style.display = 'none';
                homeDetails.style.display = 'none';
                loanPreferences.style.display = 'block';
            }
        }

        function validateCurrentStep() {
            const step = currentStep;
            let isValid = true;
            let message = '';

            if (step === 1) {
                const goal = document.querySelector('input[name="goal"]:checked');
                if (!goal) {
                    message = 'Please select your primary objective.';
                    isValid = false;
                } else if (goal.value === 'home') {
                    const timing = document.querySelector('input[name="buyTiming"]:checked');
                    if (!timing) {
                        message = 'Please select when you plan to buy.';
                        isValid = false;
                    }
                }
            } else if (step === 2) {
                const requiredFields = ['currentSavings', 'monthlyIncome'];
                for (let field of requiredFields) {
                    const value = document.getElementById(field).value;
                    if (!value || value <= 0) {
                        message = 'Please fill in all required financial information.';
                        isValid = false;
                        break;
                    }
                }
            } else if (step === 3) {
                const total = parseInt(document.getElementById('needsPercent').value) + 
                           parseInt(document.getElementById('wantsPercent').value) + 
                           parseInt(document.getElementById('savingsPercent').value);
                if (total !== 100) {
                    message = 'Budget percentages must total 100%.';
                    isValid = false;
                }
            }

            if (!isValid) {
                showModal('Validation Error', message);
            }
            return isValid;
        }

        function saveFormData() {
            // Save current form data to calculatorData object
            const formData = new FormData();
            const inputs = document.querySelectorAll('input, select');
            inputs.forEach(input => {
                if (input.type === 'radio' || input.type === 'checkbox') {
                    if (input.checked) {
                        calculatorData[input.name] = input.value;
                    }
                } else {
                    calculatorData[input.id] = input.value;
                }
            });
        }

        function calculateResults() {
            saveFormData();
            
            const goal = calculatorData.goal;
            let results = '';

            if (goal === 'home') {
                results = calculateHomeScenarios();
            } else {
                results = calculateLoanScenario();
            }

            document.getElementById('resultsContainer').innerHTML = results;
            showStep(4);
        }

        function calculateHomeScenarios() {
            const homeValue = parseFloat(calculatorData.homeValue) || 0;
            const targetYear = parseInt(calculatorData.targetYear) || 5;
            const inflationRate = parseFloat(calculatorData.inflationRate) || 6.5;
            const currentSavings = parseFloat(calculatorData.currentSavings) || 0;
            const monthlyIncome = parseFloat(calculatorData.monthlyIncome) || 0;
            const expectedROI = parseFloat(calculatorData.expectedROI) || 10;
            
            // Convert to base currency
            const homeValueBase = convertToBaseUnit(homeValue, currentUnit);
            const currentSavingsBase = convertToBaseUnit(currentSavings, currentUnit);
            
            // Calculate future home price with inflation
            const futureHomePrice = homeValueBase * Math.pow(1 + inflationRate/100, targetYear);
            
            // Scenario 1: Loan Now
            const downPaymentPercent = parseFloat(calculatorData.downPaymentValue) || 80;
            const downPayment = (currentSavingsBase * downPaymentPercent) / 100;
            const loanAmount = homeValueBase - downPayment;
            const monthlyEMI = calculateEMI(loanAmount, expectedROI, 20); // 20 years default
            const totalInterest = (monthlyEMI * 20 * 12) - loanAmount;
            const totalRepayment = loanAmount + totalInterest;
            
            // Scenario 2: Invest and Buy Later
            const investmentReturn = getInvestmentReturn(calculatorData.investmentCategory);
            const futureValueOfSavings = currentSavingsBase * Math.pow(1 + investmentReturn/100, targetYear);
            const requiredSIP = calculateRequiredSIP(futureHomePrice - futureValueOfSavings, investmentReturn, targetYear);
            const totalSIPInvestment = requiredSIP * 12 * targetYear;
            const totalInvestmentValue = futureValueOfSavings + (totalSIPInvestment * Math.pow(1 + investmentReturn/100, targetYear/2));
            
            const savings = totalRepayment - totalInvestmentValue;
            
            return `
                <div class="space-y-8">
                    <div class="bg-gradient-to-r from-blue-50 to-green-50 p-6 rounded-xl">
                        <h5 class="text-xl font-bold text-gray-800 mb-4">üìä Your Financial Strategy Comparison</h5>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h6 class="font-bold text-blue-800 mb-3">üè† Scenario 1: Buy Now with Loan</h6>
                                <div class="space-y-2 text-sm">
                                    <p><strong>Home Price:</strong> ${formatCurrency(homeValueBase)}</p>
                                    <p><strong>Down Payment:</strong> ${formatCurrency(downPayment)}</p>
                                    <p><strong>Loan Amount:</strong> ${formatCurrency(loanAmount)}</p>
                                    <p><strong>Monthly EMI:</strong> ${formatCurrency(monthlyEMI)}</p>
                                    <p><strong>Total Interest:</strong> ${formatCurrency(totalInterest)}</p>
                                    <p class="font-bold text-red-600"><strong>Total Cost:</strong> ${formatCurrency(totalRepayment)}</p>
                                </div>
                            </div>
                            <div class="bg-white p-6 rounded-lg shadow-md">
                                <h6 class="font-bold text-green-800 mb-3">üìà Scenario 2: Invest & Buy Later</h6>
                                <div class="space-y-2 text-sm">
                                    <p><strong>Future Home Price:</strong> ${formatCurrency(futureHomePrice)}</p>
                                    <p><strong>Current Savings Growth:</strong> ${formatCurrency(futureValueOfSavings)}</p>
                                    <p><strong>Required Monthly SIP:</strong> ${formatCurrency(requiredSIP)}</p>
                                    <p><strong>Total SIP Investment:</strong> ${formatCurrency(totalSIPInvestment)}</p>
                                    <p><strong>Investment Returns:</strong> ${formatCurrency(totalInvestmentValue - currentSavingsBase - totalSIPInvestment)}</p>
                                    <p class="font-bold text-green-600"><strong>Total Investment:</strong> ${formatCurrency(currentSavingsBase + totalSIPInvestment)}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-yellow-50 border border-yellow-200 p-6 rounded-xl">
                        <h5 class="text-xl font-bold text-gray-800 mb-4">üéØ Smart Recommendation</h5>
                        <p class="text-lg mb-4">
                            ${savings > 0 ? 
                                `<span class="text-green-600 font-bold">üí∞ Invest & Buy Later Strategy is Better!</span><br>
                                You can save approximately <strong>${formatCurrency(Math.abs(savings))}</strong> by investing your money and buying the house later.` :
                                `<span class="text-blue-600 font-bold">üè† Buy Now Strategy is Better!</span><br>
                                Taking the loan now will save you approximately <strong>${formatCurrency(Math.abs(savings))}</strong> compared to waiting.`
                            }
                        </p>
                        <div class="mt-4 p-4 bg-white rounded-lg">
                            <h6 class="font-bold text-gray-800 mb-2">üìã Your Smart Plan:</h6>
                            <ul class="list-disc list-inside space-y-1 text-sm text-gray-700">
                                ${savings > 0 ? 
                                    `<li>Start a monthly SIP of ${formatCurrency(requiredSIP)}</li>
                                     <li>Invest your current savings of ${formatCurrency(currentSavingsBase)} in ${calculatorData.investmentCategory} funds</li>
                                     <li>Target to buy the house in ${targetYear} years</li>
                                     <li>Expected house price by then: ${formatCurrency(futureHomePrice)}</li>` :
                                    `<li>Use ${formatCurrency(downPayment)} as down payment</li>
                                     <li>Take a home loan of ${formatCurrency(loanAmount)}</li>
                                     <li>Monthly EMI: ${formatCurrency(monthlyEMI)}</li>
                                     <li>Consider refinancing if rates drop</li>`
                                }
                            </ul>
                        </div>
                    </div>
                </div>
            `;
        }

        function calculateLoanScenario() {
            // Simple loan calculation for non-home scenarios
            return `
                <div class="bg-blue-50 p-6 rounded-xl">
                    <h5 class="text-xl font-bold text-gray-800 mb-4">üí≥ Loan Calculation Results</h5>
                    <p class="text-gray-600">Loan calculation features will be available soon. Please use the home buying comparison for now.</p>
                </div>
            `;
        }

        function calculateEMI(principal, rate, years) {
            const monthlyRate = rate / 100 / 12;
            const numberOfPayments = years * 12;
            const emi = (principal * monthlyRate * Math.pow(1 + monthlyRate, numberOfPayments)) / 
                       (Math.pow(1 + monthlyRate, numberOfPayments) - 1);
            return emi;
        }

        function calculateRequiredSIP(targetAmount, rate, years) {
            const monthlyRate = rate / 100 / 12;
            const numberOfPayments = years * 12;
            const sip = targetAmount / (((Math.pow(1 + monthlyRate, numberOfPayments) - 1) / monthlyRate) * (1 + monthlyRate));
            return sip;
        }

        function getInvestmentReturn(category) {
            const rates = {
                'conservative': 6.5,
                'balanced': 9,
                'largecap': 10,
                'midcap': 12,
                'smallcap': 14
            };
            return rates[category] || 10;
        }

        function generatePDF() {
            const element = document.getElementById('resultsContainer');
            const opt = {
                margin: 1,
                filename: 'RajyaFunds_Financial_Plan.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait' }
            };

            // Add header to PDF content
            const pdfContent = `
                <div style="padding: 20px; font-family: Arial, sans-serif;">
                    <div style="text-align: center; margin-bottom: 20px; border-bottom: 2px solid #10b981; padding-bottom: 10px;">
                        <h1 style="color: #10b981; margin: 0;">RajyaFunds</h1>
                        <p style="color: #666; margin: 5px 0;">Financial Plan Summary</p>
                        <p style="color: #999; font-size: 12px; margin: 0;">https://rajyafunds.in</p>
                    </div>
                    ${element.innerHTML}
                    <div style="margin-top: 30px; text-align: center; color: #999; font-size: 12px; border-top: 1px solid #eee; padding-top: 10px;">
                        <p>Generated by RajyaFunds - Your Path to Financial Clarity</p>
                        <p>Visit https://rajyafunds.in for more financial tools</p>
                    </div>
                </div>
            `;

            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = pdfContent;
            
            html2pdf().set(opt).from(tempDiv).save().then(() => {
                showModal(
                    'PDF Generated Successfully! üìÑ',
                    'Your financial plan summary has been downloaded. Would you like to open your email client to share this summary?',
                    () => {
                        const subject = encodeURIComponent('RajyaFunds Financial Plan Summary');
                        const body = encodeURIComponent(`Hi,

I've attached my financial plan summary generated by RajyaFunds.

Key highlights from my analysis:
- Personalized financial strategy comparison
- Data-backed recommendations for my goals
- Smart planning insights

Please find the PDF attachment with detailed calculations.

Best regards,

---
Generated by RajyaFunds - Your Path to Financial Clarity
Visit: https://rajyafunds.in`);
                        
                        window.location.href = `mailto:?subject=${subject}&body=${body}`;
                    }
                );
            });
        }

        function showModal(title, message, confirmCallback = null) {
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalMessage').textContent = message;
            document.getElementById('customModal').style.display = 'block';
            
            const confirmBtn = document.getElementById('modalConfirm');
            const cancelBtn = document.getElementById('modalCancel');
            
            if (confirmCallback) {
                confirmBtn.onclick = () => {
                    confirmCallback();
                    closeModal();
                };
                confirmBtn.style.display = 'block';
            } else {
                confirmBtn.style.display = 'none';
            }
            
            cancelBtn.onclick = closeModal;
        }

        function closeModal() {
            document.getElementById('customModal').style.display = 'none';
        }

        // Budget calculation
        function updateBudgetBreakdown() {
            const income = parseFloat(document.getElementById('monthlyIncome').value) || 0;
            const needs = parseFloat(document.getElementById('needsPercent').value) || 50;
            const wants = parseFloat(document.getElementById('wantsPercent').value) || 30;
            const savings = parseFloat(document.getElementById('savingsPercent').value) || 20;
            
            const total = needs + wants + savings;
            const breakdown = document.getElementById('budgetBreakdown');
            const warning = document.getElementById('budgetWarning');
            
            if (income > 0) {
                const needsAmount = (income * needs) / 100;
                const wantsAmount = (income * wants) / 100;
                const savingsAmount = (income * savings) / 100;
                
                breakdown.innerHTML = `
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div>
                            <div class="font-semibold">Needs</div>
                            <div>${formatCurrency(needsAmount)}</div>
                        </div>
                        <div>
                            <div class="font-semibold">Wants</div>
                            <div>${formatCurrency(wantsAmount)}</div>
                        </div>
                        <div>
                            <div class="font-semibold">Savings</div>
                            <div>${formatCurrency(savingsAmount)}</div>
                        </div>
                    </div>
                `;
            }
            
            if (total !== 100) {
                warning.textContent = `Warning: Percentages total ${total}% instead of 100%`;
                warning.style.display = 'block';
            } else {
                warning.style.display = 'none';
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', function() {
            updateCurrencyDisplays();
            
            // Goal selection event listener
            document.querySelectorAll('input[name="goal"]').forEach(radio => {
                radio.addEventListener('change', updateStepVisibility);
            });
            
            // Budget calculation event listeners
            ['needsPercent', 'wantsPercent', 'savingsPercent', 'monthlyIncome'].forEach(id => {
                const element = document.getElementById(id);
                if (element) {
                    element.addEventListener('input', updateBudgetBreakdown);
                }
            });
            
            // Down payment type change
            const downPaymentType = document.getElementById('downPaymentType');
            if (downPaymentType) {
                downPaymentType.addEventListener('change', function() {
                    const unit = document.getElementById('downPaymentUnit');
                    if (this.value === 'percentage') {
                        unit.textContent = '% of current savings';
                        document.getElementById('downPaymentValue').placeholder = '80';
                    } else {
                        unit.textContent = 'in ' + (currentCurrency === 'INR' ? '‚Çπ' : ') + ' ' + currentUnit;
                        document.getElementById('downPaymentValue').placeholder = '12';
                    }
                });
            }
            
            // Navigation event listeners
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const target = this.getAttribute('href');
                    document.querySelector(target).scrollIntoView({ behavior: 'smooth' });
                    
                    // Update active link
                    document.querySelectorAll('.nav-link').forEach(l => {
                        l.classList.remove('border-b-2', 'border-green-400', 'text-blue-900', 'font-semibold');
                        l.classList.add('text-gray-600');
                    });
                    this.classList.add('border-b-2', 'border-green-400', 'text-blue-900', 'font-semibold');
                    this.classList.remove('text-gray-600');
                });
            });
        });

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('customModal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html>
