<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan vs. SIP Calculator - RajyaFunds</title>
    <link rel="icon" type="image/x-icon" href="https://rajyafunds.in/fav.ico">
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Main Header -->
    <header class="main-header">
        <div class="container header-content">
            <div class="site-title-group">
                <a href="index.html" class="site-title">RajyaFunds</a>
                <p class="tagline-header">Your Path to Financial Clarity</p>
            </div>
            <p class="header-phrase">Empowering Your Financial Journey</p>
        </div>
    </header>

    <!-- Main Navigation -->
    <nav class="main-nav">
        <div class="container">
            <div class="nav-links">
                <a href="index.html" class="nav-item">Home</a>
                <a href="about.html" class="nav-item">About Us</a>
                <a href="calculators.html" class="nav-item active">Calculators</a>
                <a href="blog.html" class="nav-item">Blog</a>
                <a href="contact.html" class="nav-item">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="main-content-area calculator-page-main">
        <div class="container">
            <h1 class="calculator-heading">Loan vs. SIP Calculator</h1>
            <p class="calculator-description">Decide whether to take a loan now or invest systematically and buy later. This tool helps you compare the financial outcomes of both strategies.</p>

            <div class="calculator-container">
                <!-- Left Sidebar: Progress Tracker -->
                <div class="calculator-sidebar">
                    <h3>Your Progress</h3>
                    <ul>
                        <li id="nav-step1" class="active"><i class="fas fa-bullseye nav-icon"></i> <span>Step 1: Choose Your Goal</span></li>
                        <li id="nav-step2"><i class="fas fa-money-check-alt nav-icon"></i> <span>Step 2: Your Money Snapshot</span></li>
                        <li id="nav-step3"><i class="fas fa-chart-line nav-icon"></i> <span>Step 3: Monthly Budget & Preferences</span></li>
                        <li id="nav-step4"><i class="fas fa-calculator nav-icon"></i> <span>Step 4: Results & Recommendation</span></li>
                    </ul>
                </div>

                <!-- Right Content: Calculator Steps -->
                <div class="calculator-content">
                    <!-- Global Currency/Unit Toggle -->
                    <div class="currency-unit-toggle">
                        <select id="currencySelect">
                            <option value="INR">INR (₹)</option>
                            <option value="USD">USD ($)</option>
                        </select>
                        <select id="unitSelect">
                            <option value="Lakhs">Lakhs</option>
                            <option value="Millions">Millions</option>
                            <option value="Crores">Crores</option>
                        </select>
                    </div>

                    <!-- Step 1: Choose Your Goal -->
                    <div id="step1" class="step-section active">
                        <h2 class="step-title">Step 1: Choose Your Goal</h2>

                        <div class="form-group">
                            <label class="form-label">What is your primary financial goal for this calculation?</label>
                            <div class="radio-group">
                                <label>
                                    <input type="radio" name="goalType" value="buy_home" checked>
                                    Buying a Home
                                </label>
                                <label>
                                    <input type="radio" name="goalType" value="take_loan">
                                    Taking a Loan (Any Purpose)
                                </label>
                            </div>
                        </div>

                        <!-- Conditional Section: Home vs. SIP Timing (Visible if "Buying a Home" is selected) -->
                        <div id="homeVsSIPQuestion" class="form-group">
                            <label class="form-label">When are you planning to buy your home?</label>
                            <div class="radio-group">
                                <label>
                                    <input type="radio" name="buyTiming" value="buy_now_loan" checked>
                                    Buy Now (with a Loan)
                                </label>
                                <label>
                                    <input type="radio" name="buyTiming" value="invest_later_sip">
                                    Invest Now, Buy Later (through SIP)
                                </label>
                            </div>
                        </div>

                        <!-- Conditional Section: Loan Type (Visible if "Taking a Loan" is selected for goalType) -->
                        <div id="loanTypeSection" class="form-group hidden">
                            <label class="form-label">What type of loan are you considering?</label>
                            <div class="radio-group">
                                <label>
                                    <input type="radio" name="loanType" value="home_loan" checked>
                                    Home Loan
                                </label>
                                <label>
                                    <input type="radio" name="loanType" value="personal_loan">
                                    Personal Loan
                                </label>
                                <label>
                                    <input type="radio" name="loanType" value="business_loan">
                                    Business Loan
                                </label>
                                <label>
                                    <input type="radio" name="loanType" value="education_loan">
                                    Education Loan
                                </label>
                                <label>
                                    <input type="radio" name="loanType" value="vehicle_loan">
                                    Vehicle Loan
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="roi" class="form-label">Expected Annual Interest/Return Rate (%)
                                <span class="info-tooltip-container">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="info-tooltip-text" id="roiDisclaimer">
                                        This is the prevalent industry rate for your selected loan type. You can adjust it based on your offer.
                                    </span>
                                </span>
                            </label>
                            <input type="number" id="roi" class="form-input" value="8.5" step="0.1" min="0" required>
                            <span id="roiError" class="validation-error-message hidden">Please enter a valid positive rate.</span>
                        </div>
                    </div>

                    <!-- Step 2: Your Money Snapshot -->
                    <div id="step2" class="step-section">
                        <h2 class="step-title">Step 2: Your Money Snapshot</h2>

                        <div id="homeGoalDetails">
                            <h3 class="subsection-title">Your Home Goal</h3>
                            <div class="form-group">
                                <label for="targetAmount" class="form-label">Current Estimated Home Value <span class="currency-symbol">₹</span> <span class="unit-label">(Lakhs)</span></label>
                                <input type="number" id="targetAmount" class="form-input" value="50" min="0" required>
                                <span id="targetAmountError" class="validation-error-message hidden">Please enter a valid positive home value.</span>
                            </div>
                            <div class="form-group">
                                <label for="targetYear" class="form-label">Target Year to Buy Home</label>
                                <input type="number" id="targetYear" class="form-input" value="2030" min="2024" required>
                                <span id="targetYearError" class="validation-error-message hidden">Please enter a target year in the future.</span>
                            </div>
                            <div class="form-group">
                                <label for="inflationRate" class="form-label">Expected Annual Property Appreciation Rate (%)</label>
                                <input type="number" id="inflationRate" class="form-input" value="6" step="0.1" min="0" required>
                                <span id="inflationRateError" class="validation-error-message hidden">Please enter a valid non-negative inflation rate.</span>
                            </div>
                        </div>

                        <h3 class="subsection-title">Your Financial Situation</h3>
                        <div class="form-group">
                            <label for="currentSavings" class="form-label">Current Savings / Down Payment Funds <span class="currency-symbol">₹</span> <span class="unit-label">(Lakhs)</span></label>
                            <input type="number" id="currentSavings" class="form-input" value="7" min="0" required>
                            <span id="currentSavingsError" class="validation-error-message hidden">Please enter valid non-negative savings.</span>
                        </div>

                        <div class="form-group">
                            <label for="monthlyIncome" class="form-label">Current Monthly Income <span class="currency-symbol">₹</span></label>
                            <input type="number" id="monthlyIncome" class="form-input" value="60000" min="0" required>
                            <span id="monthlyIncomeError" class="validation-error-message hidden">Please enter a valid positive monthly income.</span>
                        </div>

                        <!-- Savings Usage Preference -->
                        <div id="savingsUsagePreference" class="form-group">
                            <label class="form-label">How much of your current savings would you like to use towards this goal?</label>
                            <div class="radio-group">
                                <label>
                                    <input type="radio" name="useAllSavings" value="yes" checked>
                                    Use All Savings
                                </label>
                                <label>
                                    <input type="radio" name="useAllSavings" value="no">
                                    Use Specific Amount/Percentage
                                </label>
                            </div>
                        </div>

                        <!-- Specific Savings Input (Conditional) -->
                        <div id="specificSavingsInput" class="form-group hidden">
                            <label class="form-label">Specify amount/percentage:</label>
                            <div class="radio-group mb-2">
                                <label>
                                    <input type="radio" name="savingsInputType" value="absolute" checked>
                                    Absolute Amount (<span class="currency-symbol">₹</span> <span class="unit-label">(Lakhs)</span>)
                                </label>
                                <label>
                                    <input type="radio" name="savingsInputType" value="percentage">
                                    Percentage (%)
                                </label>
                            </div>
                            <input type="number" id="specificSavingsAmount" class="form-input" value="" min="0" aria-label="Specific Savings Amount">
                            <span id="specificSavingsAmountError" class="validation-error-message hidden"></span>
                        </div>

                        <!-- Investment Return Category (Visible for Home Loan Goal) -->
                        <div id="investmentReturnCategory" class="form-group">
                            <label for="investmentCategory" class="form-label">Investment Category for SIP/Lumpsum Growth</label>
                            <select id="investmentCategory" class="investment-category-select">
                                <option value="10">Large Cap Mutual Funds (Avg. 10% CAGR)</option>
                                <option value="12">Mid Cap Mutual Funds (Avg. 12% CAGR)</option>
                                <option value="14">Small Cap Mutual Funds (Avg. 14% CAGR)</option>
                                <option value="9">Balanced/Hybrid Funds (Avg. 9% CAGR)</option>
                                <option value="7">Conservative Debt Funds (Avg. 7% CAGR)</option>
                            </select>
                            <p class="input-disclaimer mt-2"><strong>Disclaimer:</strong> Historical returns are not indicative of future results. These are estimated average returns for different categories based on past data.</p>
                        </div>
                    </div>

                    <!-- Step 3: Monthly Budget & Preferences -->
                    <div id="step3" class="step-section">
                        <h2 class="step-title">Step 3: Monthly Budget & Preferences</h2>

                        <!-- Budgeting Section (Visible for "Buying a Home" or "Taking a Loan" for income distribution) -->
                        <div id="budgetingSection">
                            <h3 class="subsection-title">Your Monthly Budget Allocation (50/30/20 Rule)</h3>
                            <p>Allocate your monthly income towards Needs, Wants, and Savings/Debt. Your total must sum to 100%.</p>
                            <p class="mt-2 text-sm font-semibold">Total Monthly Income: <span class="currency-symbol">₹</span><span id="displayMonthlyIncome">60,000</span></p>

                            <div class="budget-input-grid">
                                <div class="form-group input-group">
                                    <label for="budgetNeeds" class="form-label">Needs (%)</label>
                                    <input type="number" id="budgetNeeds" class="form-input text-center" value="50" min="0" max="100">
                                    <p class="budget-allocation"><span class="currency-symbol">₹</span><span id="displayNeeds"></span></p>
                                </div>
                                <div class="form-group input-group">
                                    <label for="budgetWants" class="form-label">Wants (%)</label>
                                    <input type="number" id="budgetWants" class="form-input text-center" value="30" min="0" max="100">
                                    <p class="budget-allocation"><span class="currency-symbol">₹</span><span id="displayWants"></span></p>
                                </div>
                                <div class="form-group input-group">
                                    <label for="budgetSavings" class="form-label">Savings/Debt (%)</label>
                                    <input type="number" id="budgetSavings" class="form-input text-center" value="20" min="0" max="100">
                                    <p class="budget-allocation"><span class="currency-symbol">₹</span><span id="displaySavings"></span></p>
                                </div>
                            </div>
                            <div id="budgetSumWarning" class="warning-message hidden mt-4">
                                <i class="fas fa-exclamation-triangle"></i>
                                Total percentage must be 100%. Current: <span id="currentBudgetSum">100</span>%
                            </div>
                            <div class="chart-container">
                                <canvas id="budgetChart"></canvas>
                            </div>
                        </div>

                        <!-- Immediate Loan Preferences (Conditional) -->
                        <div id="immediateLoanPreference" class="hidden">
                            <h3 class="subsection-title">Loan Preference</h3>
                            <p>To calculate your loan details, provide either your desired monthly EMI or a fixed loan tenure.</p>
                            <div class="form-group">
                                <label for="desiredEmi" class="form-label">Desired Monthly EMI <span class="currency-symbol">₹</span></label>
                                <input type="number" id="desiredEmi" class="form-input" value="" min="0">
                                <span id="desiredEmiError" class="validation-error-message hidden"></span>
                            </div>
                            <div class="form-group">
                                <label for="fixedLoanTenure" class="form-label">Fixed Loan Tenure (Years)</label>
                                <input type="number" id="fixedLoanTenure" class="form-input" value="" min="1" max="30">
                                <span id="fixedLoanTenureError" class="validation-error-message hidden"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Step 4: Results & Recommendation -->
                    <div id="step4" class="step-section">
                        <h2 class="step-title">Step 4: Results & Recommendation</h2>

                        <div class="form-group">
                            <label class="form-label">View Results:</label>
                            <div class="radio-group">
                                <label>
                                    <input type="radio" name="resultsView" value="summary" checked>
                                    Summary & Recommendation
                                </label>
                                <label>
                                    <input type="radio" name="resultsView" value="loan_now">
                                    Loan Now Scenario
                                </label>
                                <label>
                                    <input type="radio" name="resultsView" value="invest_later">
                                    Invest Later Scenario
                                </label>
                            </div>
                        </div>

                        <!-- Summary & Recommendation View -->
                        <div id="summaryAndRecommendation" class="result-view-section">
                            <h3 class="subsection-title">Intelligent Suggestion</h3>
                            <div id="comparisonConclusion" class="final-conclusion text-primary">
                                <i class="fas fa-arrow-circle-right"></i> Calculating your optimal path...
                            </div>
                            <p class="subtle-text mt-4 text-align-left">This recommendation is based on the financial impact considering your inputs and a generalized outlook. For a more precise strategy, consider consulting a financial advisor.</p>

                            <h3 class="subsection-title mt-4">Optimized Strategy Insights</h3>
                            <div class="result-box">
                                <p><strong>Suggested Down Payment for a Home:</strong> <span class="highlight-value" id="optimizedDownPayment">N/A</span></p>
                                <p class="subtle-text">This is an estimated ideal down payment based on standard recommendations and your available savings for the "buy a home" goal.</p>
                            </div>
                             <div class="result-box mt-4">
                                <p><strong>Suggested Initial Investment for SIP:</strong> <span class="highlight-value" id="optimizedSIPInvestment">N/A</span></p>
                                <p class="subtle-text">This represents the portion of your current savings that could be optimally invested if you choose the "invest now, buy later" strategy.</p>
                            </div>

                            <div class="chart-container">
                                <canvas id="loanCompareChart"></canvas>
                            </div>
                        </div>

                        <!-- Loan Now Scenario View -->
                        <div id="loanNowResults" class="result-view-section hidden">
                            <h3 class="subsection-title">Loan Now Scenario Details</h3>
                            <div class="result-box">
                                <h4>Your Loan Details:</h4>
                                <p><strong>Initial Home Value:</strong> <span class="highlight-value" id="resLoanNowHomeValue">N/A</span></p>
                                <p><strong>Down Payment:</strong> <span class="highlight-value" id="scenario1DownPayment">N/A</span></p>
                                <p><strong>Loan Amount:</strong> <span class="highlight-value" id="scenario1LoanAmount">N/A</span></p>
                                <p><strong>Calculated EMI:</strong> <span class="highlight-value" id="scenario1Emi">N/A</span> / month</p>
                                <p><strong>Loan Tenure:</strong> <span class="highlight-value" id="scenario1Tenure">N/A</span></p>
                                <p><strong>Total Interest Paid:</strong> <span class="highlight-value" id="scenario1TotalInterest">N/A</span></p>
                                <p><strong>Total Out-of-Pocket Cost:</strong> <span class="highlight-value" id="scenario1TotalCost">N/A</span></p>
                                <p class="subtle-text">This includes the down payment and total interest paid over the loan tenure. It represents the total cost to you for the home.</p>
                            </div>
                            <div class="chart-container">
                                <canvas id="loanNowChart"></canvas>
                            </div>
                        </div>

                        <!-- Invest Later Scenario View -->
                        <div id="investLaterResults" class="result-view-section hidden">
                            <h3 class="subsection-title">Invest Later Scenario Details</h3>
                            <div class="result-box">
                                <h4>Your Investment Goal:</h4>
                                <p><strong>Initial Home Value:</strong> <span class="highlight-value" id="initialHomeValueSIP">N/A</span></p>
                                <p><strong>Target Year to Buy:</strong> <span class="highlight-value" id="resTargetYear">N/A</span> (<span id="resYearsToBuy">N/A</span> years)</p>
                                <p><strong>Expected Property Appreciation:</strong> <span class="highlight-value" id="resInflationRate">N/A</span>% annually</p>
                                <p><strong>Adjusted Target Amount:</strong> <span class="highlight-value" id="resAccumulateAmount">N/A</span></p>
                                <p class="subtle-text">This is the estimated value of the home in your target year, considering inflation.</p>
                                <h4>Your Investment Plan:</h4>
                                <p><strong>Monthly Savings Potential:</strong> <span class="highlight-value" id="resMonthlySavingPotential">N/A</span> / month</p>
                                <p><strong>Required Monthly SIP:</strong> <span class="highlight-value" id="resRequiredSIP">N/A</span> / month</p>
                                <p><strong>Expected SIP ROI:</strong> <span class="highlight-value" id="resSIPRoi">N/A</span>% annually</p>
                            </div>
                            <div class="chart-container">
                                <canvas id="investLaterChart"></canvas>
                            </div>
                        </div>

                        <div class="email-share-section">
                            <h3 class="subsection-title">Need a Detailed Report?</h3>
                            <p>Download your personalized financial summary as a PDF, or get a quick email with your results to review later or share with a financial advisor.</p>
                            <div class="modal-buttons">
                                <button id="printPdfBtn" class="btn btn-primary mr-2">Download Summary (PDF)</button>
                                <button id="emailShareBtn" class="btn btn-secondary">Share via Email</button>
                            </div>
                        </div>

                    </div>
                    <!-- Navigation Buttons -->
                    <div class="navigation-buttons">
                        <button id="prevBtn" class="btn btn-secondary">Previous</button>
                        <button id="nextBtn" class="btn btn-primary">Next</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Main Footer -->
    <footer class="main-footer">
        <div class="container footer-grid">
            <div class="footer-column">
                <h4>RajyaFunds</h4>
                <p>Your Path to Financial Clarity. We provide tools and insights to help you make informed financial decisions.</p>
                <div class="social-links">
                    <a href="https://facebook.com/rajyafunds" target="_blank" class="social-icon"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://twitter.com/rajyafunds" target="_blank" class="social-icon"><i class="fab fa-twitter"></i></a>
                    <a href="https://linkedin.com/company/rajyafunds" target="_blank" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                    <a href="https://instagram.com/rajyafunds" target="_blank" class="social-icon"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-column">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="calculators.html">Calculators</a></li>
                    <li><a href="blog.html">Blog</a></li>
                    <li><a href="contact.html">Contact Us</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h4>Contact Us</h4>
                <p class="contact-info-footer">Email: support@rajyafunds.in</p>
                <p class="contact-info-footer">Phone: +91 98765 43210</p>
                <p class="contact-info-footer">Address: Financial District, Hyderabad, India</p>
            </div>
        </div>
        <div class="footer-bottom-text">
            &copy; <span id="currentYear"></span> RajyaFunds. All rights reserved.
        </div>
    </footer>

    <!-- Library Imports -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <!-- Our main calculator logic -->
    <script src="calculator-main.js"></script>
    <script>
        // Set the current year in the footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>
